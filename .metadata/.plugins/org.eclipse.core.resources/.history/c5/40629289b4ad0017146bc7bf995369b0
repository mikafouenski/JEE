package jdbc;

import java.sql.SQLException;
import java.util.Collection;

import exception.DaoException;
import person.Person;


public class Dao extends JdbcTools{
	
	public Collection<Person> findPersons() throws DaoException {
		ResultSetToBean<Person> t = (rs)-> { return new Person(rs.getString("nom"), rs.getString("prenom"), rs.getInt("age"));};
		String query = "select nom, prenom, age from personnes;";
		Collection<Person> persons = null;
		try {
			persons = findBeans(query,t);
		} catch (SQLException e) {
			throw new DaoException();
		}
		return persons; 
	}
	
	public void addPerson(Person p) {
		
	}

}
